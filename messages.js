/**
 * @fileoverview BotãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€ä¿¡ã™ã‚‹ã™ã¹ã¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ†ã‚­ã‚¹ãƒˆã‚’ç®¡ç†ã—ã¾ã™ã€‚
 * [å¤‰æ›´] æ–°ã—ã„å¤‰æ›´ãƒ•ãƒ­ãƒ¼ã«åˆã‚ã›ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å®šç¾©ã¨ç”Ÿæˆé–¢æ•°ã‚’ä¿®æ­£ã€‚
 */

/**
 * BotãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€ä¿¡ã™ã‚‹ã™ã¹ã¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç®¡ç†ã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
 * @const
 */
const MESSAGES = {
  // å…±é€š
  common: {
    cancel: 'æ“ä½œã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ã¾ã—ãŸã€‚',
    error: 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚æ™‚é–“ã‚’ãŠã„ã¦å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚',
  },
  // ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆå‹ã ã¡è¿½åŠ æ™‚ï¼‰
  event: {
    // ãƒ‘ã‚¿ãƒ¼ãƒ³1: å…¨ãã®æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘
    follow_new: 'å‹ã ã¡è¿½åŠ ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼\n\nã“ã“ã§ã¯ã€ã‚´ãƒŸå‡ºã—ã®äºˆå®šã‚’ç®¡ç†ãƒ»ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n\nã€Œã¯ã˜ã‚ã‚‹ã€ã‚’æŠ¼ã—ã¦ã€ã”åˆ©ç”¨ã‚’é–‹å§‹ã—ã¾ã—ã‚‡ã†ï¼',
    // ãƒ‘ã‚¿ãƒ¼ãƒ³2: ç™»éŒ²æ¸ˆã¿ã§ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘
    follow_welcome_back: 'ãŠã‹ãˆã‚Šãªã•ã„ï¼\nå¼•ãç¶šãã€ã”ã¿å‡ºã—äºˆå ±ã‚’ã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã™ã€‚',
    // ãƒ‘ã‚¿ãƒ¼ãƒ³3: é€€ä¼šæ¸ˆã¿ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘
    follow_rejoin_prompt: 'ãŠã‹ãˆã‚Šãªã•ã„ï¼\nä»¥å‰ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒä¿å­˜ã•ã‚Œã¦ã„ã¾ã™ã€‚ã”åˆ©ç”¨ã‚’å†é–‹ã—ã¾ã™ã‹ï¼Ÿ',
  },
  // ç™»éŒ²
  registration: {
    // â˜… å¤‰æ›´: ç™»éŒ²å¾Œã®æ¡ˆå†…ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ–°ã—ã„ãƒ•ãƒ­ãƒ¼ã«åˆã‚ã›ã‚‹
    success: 'âœ… ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚æ—©é€Ÿã€ã€Œä¸€è¦§ã€ã¨é€ã£ã¦ãã ã•ã„ï¼\n\nã™ã‚‹ã¨ã€äºˆå®šã‚’ç¢ºèªã§ãã¾ã™ã€‚ãã“ã‹ã‚‰æƒ…å ±ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n\nä½¿ã„æ–¹ãŒåˆ†ã‹ã‚‰ãªã„æ™‚ã¯ã€Œãƒ˜ãƒ«ãƒ—ã€ã¨é€ä¿¡ã—ã¦ãã ã•ã„ã€‚',
    // [è¿½åŠ ] æœªç™»éŒ²ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç™»éŒ²ã‚’ä¿ƒã™ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    prompt: 'ã”åˆ©ç”¨ã«ã¯ã€ã¾ãšã€Œã¯ã˜ã‚ã‚‹ã€ã‚’æŠ¼ã—ã¦ã‹ã‚‰é–‹å§‹ã—ã¦ãã ã•ã„ã€‚',
  },
  // é€€ä¼šãƒ»å†é–‹
  unregistration: {
    success: 'ã”åˆ©ç”¨ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚\nã¾ãŸä½¿ã„ãŸããªã£ãŸã‚‰ã€ã„ã¤ã§ã‚‚è©±ã—ã‹ã‘ã¦ãã ã•ã„ï¼',
    unsubscribed: 'ç¾åœ¨ã€æ©Ÿèƒ½ãŒåœæ­¢ã•ã‚Œã¦ã„ã¾ã™ã€‚åˆ©ç”¨ã‚’å†é–‹ã—ã¾ã™ã‹ï¼Ÿ',
    reactivate: 'âœ… åˆ©ç”¨ã‚’å†é–‹ã—ã¾ã—ãŸï¼',
  },
  // å¤‰æ›´ï¼ˆå¯¾è©±ï¼‰
  modification: {
    askItem: 'ã€{0}ã€‘ã®å“ç›®ã‚’ä½•ã¨å¤‰æ›´ã—ã¾ã™ã‹ï¼Ÿå…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\n\nãã®ã¾ã¾ã«ã™ã‚‹ãªã‚‰ã€Œã‚¹ã‚­ãƒƒãƒ—ã€ã€å¤‰æ›´ã‚’ã‚„ã‚ã‚‹ãªã‚‰ã€Œã‚­ãƒ£ãƒ³ã‚»ãƒ«ã€ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚',
    askNote: 'æ³¨æ„äº‹é …ã‚’ä½•ã¨å¤‰æ›´ã—ã¾ã™ã‹ï¼Ÿå…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\n\nãã®ã¾ã¾ã«ã™ã‚‹ãªã‚‰ã€Œã‚¹ã‚­ãƒƒãƒ—ã€ã€ã“ã‚Œã¾ã§ã®å¤‰æ›´ã‚’å–ã‚Šæ¶ˆã™ãªã‚‰ã€Œã‚­ãƒ£ãƒ³ã‚»ãƒ«ã€ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚',
    success: 'âœ…ã€{0}ã€‘ã®äºˆå®šã‚’æ›´æ–°ã—ã¾ã—ãŸã€‚\n\nå“ç›®: {1}\næ³¨æ„äº‹é …: {2}',
    itemTooLong: 'âš ï¸ å“åã¯20æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚',
    noteTooLong: 'âš ï¸ æ³¨æ„äº‹é …ã¯100æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚',
  },
  // ã‚´ãƒŸå‡ºã—æ—¥å•ã„åˆã‚ã›
  query: {
    todayResult: 'ä»Šæ—¥ã®ã‚´ãƒŸã¯ã€{0}ã€‘ã§ã™ã€‚',
    tomorrowResult: 'æ˜æ—¥ã®ã‚´ãƒŸã¯ã€{0}ã€‘ã§ã™ã€‚', // [è¿½åŠ ]
    dayResult: '{0}ã®ã‚´ãƒŸã¯ã€{1}ã€‘ã§ã™ã€‚', // ã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ç¾åœ¨ä½¿ã‚ã‚Œã¾ã›ã‚“ãŒã€å°†æ¥ã®æ‹¡å¼µã®ãŸã‚ã«æ®‹ã—ã¦ãŠã„ã¦ã‚‚è‰¯ã„ã§ã—ã‚‡ã†
    notes: '\nğŸ“ æ³¨æ„äº‹é …ï¼š{0}',
    notFound: '{0}ã®ã‚´ãƒŸå‡ºã—æƒ…å ±ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚', // [å¤‰æ›´]
    sheetEmpty: 'ã‚´ãƒŸå‡ºã—æƒ…å ±ãŒç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ã€Œä¸€è¦§ã€ã¨é€ä¿¡ã—ã¦ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ç™»éŒ²ã—ã¦ãã ã•ã„ã€‚',
  },
  // ã‚¨ãƒ©ãƒ¼ãƒ»çŠ¶æ…‹
  error: {
    timeout: 'æ“ä½œãŒä¸­æ–­ã•ã‚ŒãŸã‹ã€æ™‚é–“åˆ‡ã‚Œã«ãªã‚Šã¾ã—ãŸã€‚\nã‚‚ã†ä¸€åº¦ã‚„ã‚Šç›´ã—ã¦ãã ã•ã„ã€‚',
    updateFailed: 'ã‚¨ãƒ©ãƒ¼ã«ã‚ˆã‚Šäºˆå®šã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸã€‚',
  },
  // Flex Message
  flex: {
    helpAltText: 'ä½¿ã„æ–¹ã‚¬ã‚¤ãƒ‰',
    scheduleAltText: 'ã‚´ãƒŸå‡ºã—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ä¸€è¦§',
    schedulePrompt: 'å¤‰æ›´ã—ãŸã„æ›œæ—¥ãŒã‚ã‚Œã°ã€ã‚«ãƒ¼ãƒ‰ã‚’ã‚¿ãƒƒãƒ—ã—ã¦ç·¨é›†ã§ãã¾ã™ã€‚',
  },
};

// =================================================================
// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
// =================================================================

/**
 * ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã‚’å‹•çš„ãªå€¤ã«ç½®ãæ›ãˆã‚‹
 */
function formatMessage(text, ...args) {
  return args.reduce((acc, val, i) => acc.replace(`{${i}}`, val), text);
}

/**
 * â˜… å¤‰æ›´: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ—ãƒ©ã‚¤ã‹ã‚‰ã€Œäºˆå®šã‚’å¤‰æ›´ã€ã‚’å‰Šé™¤
 * @returns {object}
 */
function getFallbackMessage() {
  return {
    'type': 'text',
    'text': 'ã”ç”¨ä»¶ãŒåˆ†ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚\nä¸‹ã®ãƒœã‚¿ãƒ³ã‹ã‚‰æ“ä½œã‚’é¸ã¶ã‹ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã—ã¦ãã ã•ã„ã€‚',
    'quickReply': {
      'items': [
        { 'type': 'action', 'action': { 'type': 'message', 'label': 'ä¸€è¦§', 'text': 'ä¸€è¦§' } },
        { 'type': 'action', 'action': { 'type': 'message', 'label': 'ä»Šæ—¥', 'text': 'ä»Šæ—¥' } },
        { 'type': 'action', 'action': { 'type': 'message', 'label': 'æ˜æ—¥', 'text': 'æ˜æ—¥' } },
        { 'type': 'action', 'action': { 'type': 'message', 'label': 'ä½¿ã„æ–¹', 'text': 'ä½¿ã„æ–¹' } },
      ]
    }
  };
}

/**
 * [å¤‰æ›´] åˆ©ç”¨å†é–‹ã‚’ä¿ƒã™ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”Ÿæˆï¼ˆãƒ†ã‚­ã‚¹ãƒˆã‚’å¼•æ•°ã§å—ã‘å–ã‚Œã‚‹ã‚ˆã†ã«ï¼‰
 * @param {string} text - è¡¨ç¤ºã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆ
 * @returns {object}
 */
function getReactivationPromptMessage(text) {
  return {
    'type': 'text',
    'text': text,
    'quickReply': {
      'items': [
        { 'type': 'action', 'action': { 'type': 'message', 'label': 'åˆ©ç”¨ã‚’å†é–‹ã™ã‚‹', 'text': 'åˆ©ç”¨ã‚’å†é–‹ã™ã‚‹' } }
      ]
    }
  };
}

/**
 * [å¯¾è©±] å“ç›®ã‚’å°‹ã­ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”Ÿæˆ
 */
function getModificationItemPromptMessage(day, currentItem) {
  return {
    'type': 'text',
    'text': formatMessage(MESSAGES.modification.askItem, day, currentItem),
    'quickReply': {
      'items': [
        { 'type': 'action', 'action': { 'type': 'message', 'label': 'ã‚¹ã‚­ãƒƒãƒ—', 'text': 'ã‚¹ã‚­ãƒƒãƒ—' } },
        { 'type': 'action', 'action': { 'type': 'message', 'label': 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«', 'text': 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«' } }
      ]
    }
  };
}

/**
 * [å¯¾è©±] æ³¨æ„äº‹é …ã‚’å°‹ã­ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”Ÿæˆ
 */
function getModificationNotePromptMessage(currentNote) {
  return {
    'type': 'text',
    'text': formatMessage(MESSAGES.modification.askNote, currentNote),
    'quickReply': {
      'items': [
        { 'type': 'action', 'action': { 'type': 'message', 'label': 'ã‚¹ã‚­ãƒƒãƒ—', 'text': 'ã‚¹ã‚­ãƒƒãƒ—' } },
        { 'type': 'action', 'action': { 'type': 'message', 'label': 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«', 'text': 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«' } }
      ]
    }
  };
}

/**
 * [è¿½åŠ ] ç™»éŒ²ã‚’ä¿ƒã™ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ—ãƒ©ã‚¤ä»˜ãï¼‰ã‚’ç”Ÿæˆ
 * @param {string} text - è¡¨ç¤ºã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆ
 * @returns {object}
 */
function getRegistrationPromptMessage(text) {
  return {
    'type': 'text',
    'text': text,
    'quickReply': {
      'items': [
        { 'type': 'action', 'action': { 'type': 'message', 'label': 'ã¯ã˜ã‚ã‚‹', 'text': 'ã¯ã˜ã‚ã‚‹' } }
      ]
    }
  };
}